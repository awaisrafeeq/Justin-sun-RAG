PS D:\Asif\Code File\AsifShah_MultiAgentsSystem\rag_chatbot_rebuild\Justin-sun-RAG> .\.venv\Scripts\python.exe test_day11.py 
ğŸš€ Starting Day 11 Semantic Search + Disambiguation Tests

ğŸ” Testing Query Embedding Service...
âœ… Single query embedded: 1536 dimensions
   Query: 'What is LangChain and how does it work?'
   First 5 values: [-0.01628810539841652, -0.009280573576688766, -0.02254808507859707, 0.003941356670111418, 0.011310508474707603]
âœ… Query normalization works: 'What is LangChain?'
âœ… Multiple queries embedded: 3 embeddings
   Each has 1536 dimensions

ğŸ” Testing Semantic Search Service...
âœ… Basic search completed:
   Query: 'LangChain memory'
   Results found: 2
   Processing time: 496.92ms
   Top result score: 0.611
   Top result source: langchain_lecture_1.pdf
   Top result section: None
âœ… Filtered search completed:
   Results with doc_type='article': 3
   Filters applied: {'doc_type': 'article'}

ğŸ” Testing Disambiguation Service...
âœ… Disambiguation completed:
   Entity groups found: 0
   Needs disambiguation: False

ğŸ” Testing Context Builder Service...
âœ… Context building completed:
   Total tokens: 892
   Chunks included: 1
   Sources: ['langchain_lecture_1.pdf']
   Sections: ['abstract']
   Truncated: True
   Dropped results: 3
âœ… Token estimation: 9 tokens for 'This is a sample text for token estimat
ion.'
âœ… Text truncation: 95 chars (was 880)

ğŸ” Testing API Endpoints...
âœ… Search API endpoint working:
   Status: 200
   Results: 2
   Processing time: 1036.57ms
âœ… Disambiguation API endpoint working:
   Status: 200
   Needs disambiguation: True
   Options: 2
âœ… Filters API endpoint working:
   Available doc_types: ['article', 'cv', 'report', 'other']
   Available source_types: ['pdf', 'transcript', 'document']

============================================================
ğŸ“Š DAY 11 TEST SUMMARY
============================================================
âœ… PASS: Query Embedding
âœ… PASS: Semantic Search
âœ… PASS: Disambiguation
âœ… PASS: Context Builder
âœ… PASS: API Endpoints

Overall: 5/5 tests passed
ğŸ‰ All Day 11 tests passed! Semantic search is working correctly.        

Day 11 Features Implemented:
âœ… Query embedding with OpenAI
âœ… Vector search with relevance threshold
âœ… Metadata filters (doc_type, source_type, etc.)
âœ… Disambiguation logic for multiple entities
âœ… Context builder with token limits
âœ… Search API endpoints
âœ… Comprehensive error handling